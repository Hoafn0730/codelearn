<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Admin Codelearn</title>
        <link rel="stylesheet" href="../assets/css/grid.css" />
        <link rel="stylesheet" href="../assets/css/mainAdmin.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
    </head>

    <body>
        <div class="app">
            <!-- Header -->
            <header class="header">
                <div class="grid d-flex-center">
                    <!-- Header logo -->
                    <div class="header_logo">
                        <a href="/" class="logo-link">
                            <i class="fa-solid fa-code logo"></i>
                            Codelearn
                        </a>
                    </div>

                    <!-- Header Actions -->
                    <div class="header_actions">
                        <!-- User Menu -->
                        <div aria-expanded="false" class="header_actions-avatar icon">
                            <img class="avatar" src="../assets/img/apple-touch-icon.webp" alt="" />
                            <h3>Hoàn Trần</h3>
                        </div>
                        <div aria-hidden="true" id="userMenu" class="header_userMenu userMenu-wrapper">
                            <div class="userMenu_user">
                                <div class="userMenu_user-avatar">
                                    <img class="avatar" src="../assets/img/apple-touch-icon.webp" alt="" />
                                </div>
                                <div class="userMenu_info">
                                    <span class="userMenu_info-name">Hoàn Trần</span>
                                    <div class="userMenu_info-username">@hoantran2</div>
                                </div>
                            </div>
                            <hr />
                            <ul class="userMenu-list">
                                <li class="userMenu_item">
                                    <a href="" class="userMenu_item-link"> Profile </a>
                                </li>
                                <hr />
                                <li class="userMenu_item">
                                    <a href="" class="userMenu_item-link"> Add blog </a>
                                </li>
                                <li class="userMenu_item">
                                    <a href="" class="userMenu_item-link"> My blogs </a>
                                </li>
                                <hr />
                                <li class="userMenu_item">
                                    <a href="" class="userMenu_item-link"> Bookmark </a>
                                </li>
                                <hr />
                                <li class="userMenu_item">
                                    <a href="" class="userMenu_item-link"> Setting </a>
                                </li>
                                <li class="userMenu_item">
                                    <a href="" class="userMenu_item-link"> Logout </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Container -->
            <div class="container">
                <!-- Sidebar -->
                <div class="sideBar">
                    <div class="sideBar_wrapper fixed">
                        <ul class="sideBar_list">
                            <li class="sideBar_item">
                                <a href="MainAdmin.html" title="Tổng quan" id="tongQuan" class="sideBar_item-link">
                                    <i class="fa-solid fa-house"></i>
                                    <span class="text sideBar_item-text">Tổng quan</span>
                                </a>
                            </li>

                            <li class="sideBar_item">
                                <a href="Courses.html" id="course" class="sideBar_item-link">
                                    <i class="fa-solid fa-road"></i>
                                    <span class="text sideBar_item-text">Khoá học</span>
                                </a>
                            </li>

                            <li class="sideBar_item">
                                <a href="Participation.html" id="participation" class="sideBar_item-link">
                                    <i class="fa-solid fa-newspaper"></i>
                                    <span class="text sideBar_item-text">Đăng ký</span>
                                </a>
                            </li>

                            <li class="sideBar_item">
                                <a href="Statistic.html" id="participation" class="sideBar_item-link">
                                    <i class="fa-solid fa-newspaper"></i>
                                    <span class="text sideBar_item-text">Thống kê</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Content -->
                <div ng-app="AppHocTap" ng-controller="CourseCtrl" id="content" class="content">
                    <div class="grid">
                        <div class="title">
                            <h3>Thông tin khóa học</h3>
                        </div>
                        <div class="row">
                            <div class="col l-4">
                                <div class="mt-4">
                                    <!-- Form nhap thong tin khoa hoc -->
                                    <form name="form-course" class="row needs-validation" method="POST">
                                        <input
                                            type="hidden"
                                            class="form-control"
                                            id="courseId"
                                            name="courseId"
                                            value="0"
                                        />

                                        <div class="col l-12 mt-12">
                                            <label for="name" class="form-label">Tên khóa học</label>
                                            <input type="text" class="form-control" id="nameCourse" name="nameCourse" />
                                        </div>

                                        <div class="col l-12 mt-12">
                                            <label for="description" class="form-label">Mô tả</label>
                                            <textarea
                                                type="text"
                                                class="form-control"
                                                id="description"
                                                name="description"
                                                style="resize: vertical"
                                            ></textarea>
                                        </div>

                                        <div class="col l-12 mt-12">
                                            <label for="image" class="form-label">Ảnh</label>
                                            <input type="text" class="form-control" id="image" name="image" />
                                        </div>

                                        <div class="col l-12 mt-12">
                                            <label for="level" class="form-label">Trình độ</label>
                                            <select class="form-select" id="level" name="level">
                                                <option selected disabled value="">Choose...</option>
                                                <option value="Trình độ trung bình">Trình độ trung bình</option>
                                                <option value="Cơ bản">Cơ bản</option>
                                            </select>
                                        </div>

                                        <div class="col l-12 mt-12">
                                            <label for="price" class="form-label">Giá</label>
                                            <input type="text" class="form-control" id="price" name="price" />
                                        </div>

                                        <input type="hidden" class="form-control" id="slug" name="slug" />

                                        <div class="col l-12 mt-12">
                                            <label for="level" class="form-label">Thể loại</label>
                                            <select class="form-select" id="categoryId" name="categoryId">
                                                <option selected disabled value="">Choose...</option>
                                                <option value="1">Backend</option>
                                            </select>
                                        </div>

                                        <div class="col l-12 mt-12">
                                            <label for="price" class="form-label">Mã giảng viên</label>
                                            <input type="text" class="form-control" id="teacherId" name="teacherId" />
                                        </div>

                                        <div class="col l-12 mt-12">
                                            <button id="btn-course" class="btn btn-primary" type="submit">Lưu</button>
                                        </div>
                                    </form>
                                </div>
                            </div>

                            <div class="col l-8">
                                <div class="mt-4">
                                    <div class="search">
                                        <input
                                            type="text"
                                            class="search-type input-course"
                                            placeholder="Nhập mã, tên loại khóa học..."
                                        />
                                        <button class="btn btn-primary btn-search search-course">
                                            <i class="fas fas fa-search"></i> Tìm kiếm
                                        </button>
                                    </div>

                                    <!-- Form du lieu -->

                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th scope="col" colspan="2">#</th>
                                                <th scope="col">Mã khóa học</th>
                                                <th scope="col">Tên khóa học</th>
                                                <th scope="col">Trình độ</th>
                                                <th scope="col" colspan="2">Thời gian tạo</th>
                                            </tr>
                                        </thead>

                                        <tbody>
                                            <tr class="course-item">
                                                <td>
                                                    <div class="form-check">
                                                        <input
                                                            class="form-check-input"
                                                            type="checkbox"
                                                            value="{{x.courseId}}"
                                                            name="courseIds[]"
                                                        />
                                                    </div>
                                                </td>
                                                <th scope="row">
                                                    {{ $index + (listItem.page > 1 ? index = (listItem.page - 1) * 10 +
                                                    1 : index = 1 )}}
                                                </th>
                                                <td>{{x.courseId}}</td>
                                                <td class="name">{{x.nameCourse}}</td>
                                                <td>{{x.level}}</td>
                                                <td>@{{x.createdAt}}</td>
                                                <td>
                                                    <button
                                                        class="btn btn-link btn-delete-course"
                                                        data-id="{{x.courseId}}"
                                                    >
                                                        Xóa
                                                    </button>
                                                    <button
                                                        class="btn btn-link btn-detail-course"
                                                        data-id="{{x.courseId}}"
                                                    >
                                                        Chi tiết
                                                    </button>
                                                </td>
                                            </tr>

                                            <!-- <tr>
                                                        <td colspan='5' class='text-center'>Bạn chưa đăng khóa học nào.
                                                        </td>
                                                    </tr> -->
                                        </tbody>
                                    </table>
                                </div>

                                <div class="padding-box">
                                    <div class="box-sum">
                                        <div class="box-left">
                                            Số lượng khoá học: <span id="soluong">{{listItem.totalItems}}</span>
                                        </div>
                                        <div class="box-right">
                                            <button class="btn-primary"><i class="fas fa-angle-left"></i></button>

                                            <div class="navigation">
                                                <!-- <button data-id="1" class="btn-primary">1</button>
                                                <button data-id="2" class="btn-primary">2</button>
                                                <button data-id="3" class="btn-primary">3</button>
                                                <button data-id="4" class="btn-primary">4</button> -->
                                            </div>

                                            <button class="btn-primary"><i class="fas fa-angle-right"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="overlay"></div>
                            <!-- List Lesson -->
                            <div class="lesson_wrapper">
                                <h1 class="lesson_heading">Danh sách bài học</h1>
                                <div class="btn btn-primary btn-exit-form">X</div>

                                <div class="search">
                                    <input
                                        type="text"
                                        class="search-type input-lesson"
                                        placeholder="Nhập mã, tên bài học..."
                                    />
                                    <button class="btn btn-primary btn-search search-lesson">
                                        <i class="fas fas fa-search"></i> Tìm kiếm
                                    </button>
                                </div>

                                <!-- Bảng bài học -->
                                <div class="lesson_list">
                                    <table class="table">
                                        <thead>
                                            <tr>
                                                <th scope="col" colspan="2">#</th>
                                                <th scope="col">Tên bài học</th>
                                                <th scope="col">Mô tả</th>
                                                <th scope="col">Video ID</th>
                                                <th scope="col">Thời lượng</th>
                                                <th scope="col" style="width: 25%">Nội dung</th>
                                                <th scope="col" colspan="2">Thời gian tạo</th>
                                            </tr>
                                        </thead>

                                        <tbody>
                                            <tr class="lesson-item">
                                                <td>
                                                    <div class="form-check">
                                                        <input
                                                            class="form-check-input"
                                                            type="checkbox"
                                                            value="{{x.lessonId}}"
                                                            name="lessonId"
                                                        />
                                                    </div>
                                                </td>

                                                <th scope="row">
                                                    {{ $index + (listItem.page > 1 ? index = (listItem.page - 1) * 10 +
                                                    1 : index = 1 )}}
                                                </th>

                                                <td>
                                                    <section
                                                        contenteditable="false"
                                                        name="nameLesson"
                                                        class="view"
                                                        data-src="{{x.nameLesson}}"
                                                    >
                                                        Loading...
                                                    </section>
                                                </td>

                                                <td>
                                                    <section
                                                        contenteditable="false"
                                                        name="description"
                                                        class="view"
                                                        data-src="{{x.description}}"
                                                    ></section>
                                                </td>

                                                <td>
                                                    <section
                                                        contenteditable="false"
                                                        name="videoId"
                                                        class="view"
                                                        data-src="{{x.videoId}}"
                                                    ></section>
                                                </td>

                                                <td>
                                                    <section
                                                        contenteditable="false"
                                                        name="duration"
                                                        class="view"
                                                        data-src="{{x.duration}}"
                                                    ></section>
                                                </td>

                                                <td
                                                    style="
                                                        width: 25%;
                                                        max-height: 48px;
                                                        overflow: hidden;
                                                        text-overflow: ellipsis;
                                                    "
                                                >
                                                    <section
                                                        class="view"
                                                        name="content"
                                                        data-src="{{x.content}}"
                                                    ></section>
                                                </td>

                                                <td name="createdAt">{{x.createdAt}}</td>

                                                <td>
                                                    <button
                                                        href=""
                                                        class="btn btn-link btn-delete-lesson"
                                                        data-id="{{x.lessonId}}"
                                                    >
                                                        Xóa
                                                    </button>
                                                </td>
                                            </tr>

                                            <!-- <tr>
                                                    <td colspan='5' class='text-center'>Bạn chưa đăng khóa học nào.
                                                    </td>
                                                </tr> -->
                                        </tbody>
                                    </table>
                                </div>

                                <button class="btn btn-primary btn-create-lesson">+</button>
                                <button class="btn btn-primary btn-update-lesson">Lưu</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <footer class="footer">
                <div class="grid wide">
                    <div class="row">
                        <div class="col l-3">
                            <a href="/" class="logo-link">
                                <i class="fa-solid fa-code logo"></i>
                                Codelearn
                            </a>
                        </div>
                        <div class="col l-2">
                            <h1 class="footer__heading">Thông tin</h1>
                            <ul class="footer-list">
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Giới thiệu</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Liên hệ</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Điều khoản</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Bảo mật</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Cơ hội việc làm</a>
                                </li>
                            </ul>
                        </div>
                        <div class="col l-2">
                            <h1 class="footer__heading">Khám phá</h1>
                            <ul class="footer-list">
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Game Nester</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Game CSS Diner</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Game CSS Selectors</a>
                                </li>
                            </ul>
                        </div>
                        <div class="col l-2">
                            <h1 class="footer__heading">Công cụ</h1>
                            <ul class="footer-list">
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Tạo CV xin việc</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Rút gọn liên kết</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Snippet generator</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">CSS Grid generator</a>
                                </li>
                            </ul>
                        </div>
                        <div class="col l-3">
                            <h3 class="footer__heading">THEO DÕI</h3>
                            <ul class="footer-list">
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">
                                        <i class="footer-item__icon fa-brands fa-facebook"></i>
                                        Facebook</a
                                    >
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">
                                        <i class="footer-item__icon fa-brands fa-instagram"></i>
                                        Instagram</a
                                    >
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">
                                        <i class="footer-item__icon fa-brands fa-linkedin"></i>
                                        LinkedIn</a
                                    >
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="footer__bottom">
                        <p class="footer__text">© 2018 - 2023 CodeAcadmy. Nền tảng học lập trình hàng đầu Việt Nam</p>
                    </div>
                </div>
            </footer>
        </div>
        <script>
            var user = JSON.parse(localStorage.getItem('account'));
            if (!user) {
                window.location.href = '../login.html';
            }
        </script>
        <script type="module" src="../Admin/assets/js/admin.js"></script>
        <script type="module" src="../Admin/assets/js/services/courseService.js"></script>
    </body>
</html>
