<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Admin Codelearn</title>
        <link rel="stylesheet" href="../assets/css/grid.css" />
        <link rel="stylesheet" href="../assets/css/mainAdmin.css" />

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
    </head>

    <body>
        <div class="app">
            <!-- Header -->
            <header class="header">
                <div class="grid d-flex-center">
                    <!-- Header logo -->
                    <div class="header_logo">
                        <a href="/" class="logo-link">
                            <i class="fa-solid fa-code logo"></i>
                            Codelearn
                        </a>
                    </div>

                    <!-- Header Actions -->
                    <div class="header_actions">
                        <!-- User Menu -->
                        <div aria-expanded="false" class="header_actions-avatar icon">
                            <img class="avatar" src="../assets/img/apple-touch-icon.webp" alt="" />
                            <h3>Hoàn Trần</h3>
                        </div>
                        <div aria-hidden="true" id="userMenu" class="header_userMenu userMenu-wrapper">
                            <div class="userMenu_user">
                                <div class="userMenu_user-avatar">
                                    <img class="avatar" src="../assets/img/apple-touch-icon.webp" alt="" />
                                </div>
                                <div class="userMenu_info">
                                    <span class="userMenu_info-name">Hoàn Trần</span>
                                    <div class="userMenu_info-username">@hoantran2</div>
                                </div>
                            </div>
                            <hr />
                            <ul class="userMenu-list">
                                <li class="userMenu_item">
                                    <a href="" class="userMenu_item-link"> Profile </a>
                                </li>
                                <hr />
                                <li class="userMenu_item">
                                    <a href="" class="userMenu_item-link"> Add blog </a>
                                </li>
                                <li class="userMenu_item">
                                    <a href="" class="userMenu_item-link"> My blogs </a>
                                </li>
                                <hr />
                                <li class="userMenu_item">
                                    <a href="" class="userMenu_item-link"> Bookmark </a>
                                </li>
                                <hr />
                                <li class="userMenu_item">
                                    <a href="" class="userMenu_item-link"> Setting </a>
                                </li>
                                <li class="userMenu_item">
                                    <a href="" class="userMenu_item-link"> Logout </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Container -->
            <div class="container">
                <!-- Sidebar -->
                <div class="sideBar">
                    <div class="sideBar_wrapper fixed">
                        <ul class="sideBar_list">
                            <li class="sideBar_item">
                                <a href="MainAdmin.html" title="Tổng quan" id="tongQuan" class="sideBar_item-link">
                                    <i class="fa-solid fa-house"></i>
                                    <span class="text sideBar_item-text">Tổng quan</span>
                                </a>
                            </li>

                            <li class="sideBar_item">
                                <a href="Courses.html" id="course" class="sideBar_item-link">
                                    <i class="fa-solid fa-road"></i>
                                    <span class="text sideBar_item-text">Khoá học</span>
                                </a>
                            </li>

                            <li class="sideBar_item">
                                <a href="Participation.html" id="participation" class="sideBar_item-link">
                                    <i class="fa-solid fa-newspaper"></i>
                                    <span class="text sideBar_item-text">Đăng ký</span>
                                </a>
                            </li>
                            <li class="sideBar_item">
                                <a href="Statistic.html" id="participation" class="sideBar_item-link">
                                    <i class="fa-solid fa-newspaper"></i>
                                    <span class="text sideBar_item-text">Thống kê</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Content -->
                <div id="content" class="content">
                    <div class="grid">
                        <div class="title">
                            <h3>Thống kê tháng {{month}}</h3>
                        </div>
                        <div class="row">
                            <div class="col l-4">
                                <div class="padding-box">
                                    <div class="box" style="background-color: #9abc32">
                                        <div class="box-left"><i class="fas fa-signal"></i></div>
                                        <div class="box-right">
                                            Số học viên đăng ký<br /><span>{{Total}}</span> học viên
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col l-4">
                                <div class="padding-box">
                                    <div class="box" style="background-color: #9abc32">
                                        <div class="box-left"><i class="fas fa-signal"></i></div>
                                        <div class="box-right">
                                            Số khóa học được đăng ký<br /><span>{{Total}}</span> khóa học
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col l-4">
                                <div class="padding-box">
                                    <div class="box" style="background-color: #9abc32">
                                        <div class="box-left"><i class="fas fa-signal"></i></div>
                                        <div class="box-right">
                                            Doanh thu theo tháng<br /><span>{{Revenue}}</span> VNĐ
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="grid">
                        <div class="title">
                            <h3>Thông tin đăng ký</h3>
                        </div>
                        <div class="row">
                            <div class="col l-4">
                                <div class="mt-4">
                                    <!-- Form nhập thông tin đăng ký -->
                                    <form name="form-statistic" class="row needs-validation" method="POST">
                                        <div class="col l-12 mt-12">
                                            <label for="name" class="form-label">Tháng: </label>
                                            <input type="text" class="form-control" id="month" name="month" />
                                        </div>

                                        <div class="col l-12 mt-12">
                                            <label for="name" class="form-label">Năm: </label>
                                            <input type="text" class="form-control" id="year" name="year" />
                                        </div>
                                        <div style="font-size: 1.6rem; margin: 10px 10px">
                                            Danh thu : {{Revenue}} VNĐ
                                        </div>
                                        <div class="col l-12 mt-12">
                                            <button
                                                id="btn-statistic"
                                                name="submit"
                                                class="btn btn-primary"
                                                type="submit"
                                            >
                                                Lưu
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>

                            <div class="col l-8">
                                <div class="mt-4">
                                    <div class="search">
                                        <input
                                            type="text"
                                            class="search-type"
                                            placeholder="Nhập mã, tên loại khóa học..."
                                        />
                                        <button class="btn btn-primary btn-search">
                                            <i class="fas fas fa-search"></i>
                                            Tìm kiếm
                                        </button>
                                    </div>

                                    <!-- Form du lieu -->
                                    <form name="container-form" action="">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th scope="col" colspan="2">#</th>
                                                    <th scope="col">Mã người dùng</th>
                                                    <th scope="col">Tên người dùng</th>
                                                    <th scope="col">Tên khóa học</th>
                                                    <th scope="col" colspan="2">Ngày đăng ký</th>
                                                </tr>
                                            </thead>

                                            <tbody>
                                                <tr class="participation-item" ng-repeat="x in listItem.data">
                                                    <td>
                                                        <div class="form-check">
                                                            <input
                                                                class="form-check-input"
                                                                type="checkbox"
                                                                value="{{x.participationId}}"
                                                                name="participationIds[]"
                                                            />
                                                        </div>
                                                    </td>

                                                    <th scope="row">
                                                        {{ $index + (listItem.page > 1 ? index = (listItem.page - 1) *
                                                        10 + 1 : index = 1 )}}
                                                    </th>
                                                    <td class="name">{{x.userId}}</td>
                                                    <td class="name">{{x.name}}</td>
                                                    <td>{{x.nameCourse}}</td>
                                                    <td>@{{x.registrationDate}}</td>
                                                </tr>

                                                <!-- <tr>
                                                        <td colspan='5' class='text-center'>Bạn chưa đăng khóa học nào.
                                                        </td>
                                                    </tr> -->
                                            </tbody>
                                        </table>
                                    </form>
                                </div>

                                <div class="padding-box">
                                    <div class="box-sum">
                                        <div class="box-left">
                                            Số lượng khoá học: <span id="soluong">{{listItem.totalItems}}</span>
                                        </div>
                                        <div class="box-right">
                                            <button class="btn-primary"><i class="fas fa-angle-left"></i></button>
                                            <div class="navigation">
                                                <!-- <button data-id="1" class="btn-primary">1</button>
                                                <button data-id="2" class="btn-primary">2</button>
                                                <button data-id="3" class="btn-primary">3</button>
                                                <button data-id="4" class="btn-primary">4</button> -->
                                            </div>
                                            <button class="btn-primary"><i class="fas fa-angle-right"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col l-6">
                                <h2 class="popular-title">Khóa học phổ biến</h2>
                                <ul class="list-popular-courses">
                                    <li
                                        class="mycourses-item course_item-{{x.courseId}}"
                                        ng-repeat="x in listPopularCourses"
                                    >
                                        <h4 style="font-size: 1.6rem; margin-right: 10px">{{$index + 1}}</h4>
                                        <img src="{{x.image}}" alt="" class="course-item-thumb" />
                                        <div class="course-info">
                                            <h3 class="course-title">{{x.nameCourse}}</h3>
                                            <span class="createdAt">Ngày tạo {{formatDate(x.createdAt)}}</span>
                                        </div>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <footer class="footer">
                <div class="grid wide">
                    <div class="row">
                        <div class="col l-3">
                            <a href="/" class="logo-link">
                                <i class="fa-solid fa-code logo"></i>
                                Codelearn
                            </a>
                        </div>
                        <div class="col l-2">
                            <h1 class="footer__heading">Thông tin</h1>
                            <ul class="footer-list">
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Giới thiệu</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Liên hệ</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Điều khoản</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Bảo mật</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Cơ hội việc làm</a>
                                </li>
                            </ul>
                        </div>
                        <div class="col l-2">
                            <h1 class="footer__heading">Khám phá</h1>
                            <ul class="footer-list">
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Game Nester</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Game CSS Diner</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Game CSS Selectors</a>
                                </li>
                            </ul>
                        </div>
                        <div class="col l-2">
                            <h1 class="footer__heading">Công cụ</h1>
                            <ul class="footer-list">
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Tạo CV xin việc</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Rút gọn liên kết</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Snippet generator</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">CSS Grid generator</a>
                                </li>
                            </ul>
                        </div>
                        <div class="col l-3">
                            <h3 class="footer__heading">THEO DÕI</h3>
                            <ul class="footer-list">
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">
                                        <i class="footer-item__icon fa-brands fa-facebook"></i>
                                        Facebook</a
                                    >
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">
                                        <i class="footer-item__icon fa-brands fa-instagram"></i>
                                        Instagram</a
                                    >
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">
                                        <i class="footer-item__icon fa-brands fa-linkedin"></i>
                                        LinkedIn</a
                                    >
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="footer__bottom">
                        <p class="footer__text">© 2018 - 2023 CodeAcadmy. Nền tảng học lập trình hàng đầu Việt Nam</p>
                    </div>
                </div>
            </footer>
        </div>
        <script>
            var user = JSON.parse(localStorage.getItem('account'));
            if (!user) {
                window.location.href = '../login.html';
            }
        </script>

        <script type="module" src="../Admin/assets/js/admin.js"></script>
        <script type="module" src="../Admin/assets/js/services/statisticService.js"></script>
    </body>
</html>
