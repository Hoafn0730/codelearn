<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Admin Codelearn</title>
        <link rel="stylesheet" href="../assets/css/grid.css" />
        <link rel="stylesheet" href="../assets/css/mainAdmin.css" />

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
    </head>

    <body>
        <div class="app">
            <!-- Header logo -->
            <div class="header_logo">
                <a href="/" class="logo-link">
                    <i class="fa-solid fa-code logo"></i>
                    Codelearn
                </a>
            </div>

            <!-- Container -->
            <div class="container">
                <!-- Sidebar -->
                <div class="sideBar">
                    <div class="sideBar_wrapper fixed">
                        <ul class="sideBar_list">
                            <li class="sideBar_item">
                                <a href="MainAdmin.html" title="Tổng quan" id="tongQuan" class="sideBar_item-link">
                                    <i class="fa-solid fa-house"></i>
                                    <span class="text sideBar_item-text">Tổng quan</span>
                                </a>
                            </li>

                            <li class="sideBar_item">
                                <a href="Courses.html" id="course" class="sideBar_item-link">
                                    <i class="fa-solid fa-road"></i>
                                    <span class="text sideBar_item-text">Khoá học</span>
                                </a>
                            </li>

                            <li class="sideBar_item">
                                <a href="Participation.html" id="participation" class="sideBar_item-link">
                                    <i class="fa-solid fa-newspaper"></i>
                                    <span class="text sideBar_item-text">Đăng ký</span>
                                </a>
                            </li>

                            <li class="sideBar_item">
                                <a href="Statistic.html" id="participation" class="sideBar_item-link">
                                    <i class="fa-solid fa-newspaper"></i>
                                    <span class="text sideBar_item-text">Thống kê</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>

                <!-- Content -->
                <div id="content" class="content">
                    <div class="grid">
                        <div class="title">
                            <h3>Thông tin đăng ký</h3>
                        </div>
                        <div class="row">
                            <div class="col l-4">
                                <div class="mt-4">
                                    <!-- Form nhap thong tin đăng ký -->
                                    <form name="form-participation" class="row needs-validation" method="POST">
                                        <input
                                            type="hidden"
                                            class="form-control"
                                            id="participationId"
                                            name="participationId"
                                            value="0"
                                        />

                                        <div class="col l-12 mt-12">
                                            <label for="name" class="form-label">Tên khóa học</label>
                                            <input type="text" class="form-control" id="courseId" name="courseId" />
                                        </div>

                                        <div class="col l-12 mt-12">
                                            <label for="name" class="form-label">Tên khóa học</label>
                                            <input type="text" class="form-control" id="userId" name="userId" />
                                        </div>

                                        <div class="col l-12 mt-12">
                                            <label for="status" class="form-label">Trình độ</label>
                                            <select class="form-select" id="status" name="status">
                                                <option selected disabled value="">Choose...</option>
                                                <option value="false">Chưa được xác nhận</option>
                                                <option value="true">Đã xác nhận</option>
                                            </select>
                                        </div>

                                        <div class="col l-12 mt-12">
                                            <button id="btn-participation" class="btn btn-primary" type="submit">
                                                Lưu
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>

                            <div class="col l-8">
                                <div class="mt-4">
                                    <div class="search">
                                        <input
                                            type="text"
                                            class="search-type"
                                            placeholder="Nhập mã, tên loại khóa học..."
                                        />
                                        <button class="btn btn-primary btn-search">
                                            <i class="fas fas fa-search"></i> Tìm kiếm
                                        </button>
                                    </div>

                                    <!-- Form du lieu -->
                                    <form name="container-form" action="">
                                        <table class="table">
                                            <thead>
                                                <tr>
                                                    <th scope="col" colspan="2">#</th>
                                                    <th scope="col">Tên người dùng</th>
                                                    <th scope="col">Tên khóa học</th>
                                                    <th scope="col">Ngày đăng ký</th>
                                                    <th scope="col" colspan="2">Trạng thái</th>
                                                </tr>
                                            </thead>

                                            <tbody>
                                                <tr class="participation-item">
                                                    <td>
                                                        <div class="form-check">
                                                            <input
                                                                class="form-check-input"
                                                                type="checkbox"
                                                                value="{{x.participationId}}"
                                                                name="participationIds[]"
                                                            />
                                                        </div>
                                                    </td>
                                                    <th scope="row">
                                                        {{ $index + (listItem.page > 1 ? index = (listItem.page - 1) *
                                                        10 + 1 : index = 1 )}}
                                                    </th>
                                                    <td class="name">{{x.name}}</td>
                                                    <td>{{x.nameCourse}}</td>
                                                    <td>@{{x.registrationDate}}</td>
                                                    <td>{{x.status ? 'Đã xác nhận' : 'Chưa được xác nhận'}}</td>
                                                    <td>
                                                        <a
                                                            href=""
                                                            class="btn btn-link btn-delete-participation"
                                                            data-id="{{x.participationId}}"
                                                        >
                                                            Xóa
                                                        </a>
                                                    </td>
                                                </tr>

                                                <!-- <tr>
                                                        <td colspan='5' class='text-center'>Bạn chưa đăng khóa học nào.
                                                        </td>
                                                    </tr> -->
                                            </tbody>
                                        </table>
                                    </form>
                                </div>

                                <div class="padding-box">
                                    <div class="box-sum">
                                        <div class="box-left">
                                            Số lượng khoá học: <span id="soluong">{{listItem.totalItems}}</span>
                                        </div>
                                        <div class="box-right">
                                            <button class="btn-primary"><i class="fas fa-angle-left"></i></button>
                                            <div class="navigation">
                                                <!-- <button data-id="1" class="btn-primary">1</button>
                                                <button data-id="2" class="btn-primary">2</button>
                                                <button data-id="3" class="btn-primary">3</button>
                                                <button data-id="4" class="btn-primary">4</button> -->
                                            </div>
                                            <button class="btn-primary"><i class="fas fa-angle-right"></i></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Footer -->
            <footer class="footer">
                <div class="grid wide">
                    <div class="row">
                        <div class="col l-3">
                            <a href="/" class="logo-link">
                                <i class="fa-solid fa-code logo"></i>
                                Codelearn
                            </a>
                        </div>
                        <div class="col l-2">
                            <h1 class="footer__heading">Thông tin</h1>
                            <ul class="footer-list">
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Giới thiệu</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Liên hệ</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Điều khoản</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Bảo mật</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Cơ hội việc làm</a>
                                </li>
                            </ul>
                        </div>
                        <div class="col l-2">
                            <h1 class="footer__heading">Khám phá</h1>
                            <ul class="footer-list">
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Game Nester</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Game CSS Diner</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Game CSS Selectors</a>
                                </li>
                            </ul>
                        </div>
                        <div class="col l-2">
                            <h1 class="footer__heading">Công cụ</h1>
                            <ul class="footer-list">
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Tạo CV xin việc</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Rút gọn liên kết</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">Snippet generator</a>
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">CSS Grid generator</a>
                                </li>
                            </ul>
                        </div>
                        <div class="col l-3">
                            <h3 class="footer__heading">THEO DÕI</h3>
                            <ul class="footer-list">
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">
                                        <i class="footer-item__icon fa-brands fa-facebook"></i>
                                        Facebook</a
                                    >
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">
                                        <i class="footer-item__icon fa-brands fa-instagram"></i>
                                        Instagram</a
                                    >
                                </li>
                                <li class="footer-item">
                                    <a href="#" class="footer-item__link">
                                        <i class="footer-item__icon fa-brands fa-linkedin"></i>
                                        LinkedIn</a
                                    >
                                </li>
                            </ul>
                        </div>
                    </div>
                    <div class="footer__bottom">
                        <p class="footer__text">© 2018 - 2023 CodeLearn. Nền tảng học lập trình hàng đầu Việt Nam</p>
                    </div>
                </div>
            </footer>
        </div>
        <script>
            var user = JSON.parse(localStorage.getItem('account'));
            if (!user) {
                window.location.href = '../login.html';
            }
        </script>

        <script type="module" src="../Admin/assets/js/admin.js"></script>
        <script type="module" src="../Admin/assets/js/services/participationService.js"></script>
    </body>
</html>
